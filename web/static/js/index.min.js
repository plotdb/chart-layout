function import$(t,e){var r={}.hasOwnProperty;for(var n in e)r.call(e,n)&&(t[n]=e[n]);return t}var data,layout,ml;data=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20].map(function(){return Math.round(100*Math.random())}),(layout=function(t){return null==t&&(t={}),this.root="string"==typeof t.root?document.querySelector(t.root):t.root,this.evtHandler={},this.box={},this.node={},this.group={},this}).prototype=import$(Object.create(Object.prototype),{on:function(t,e){var r;return((r=this.evtHandler)[t]||(r[t]=[])).push(e)},fire:function(t){var e,r,n,i,o,a,u,l=[];for(r=[],n=1,i=arguments.length;n<i;++n)r.push(arguments[n]);for(e=r,n=0,a=(o=this.evtHandler[t]||[]).length;n<a;++n)u=o[n],l.push(u.apply(this,e));return l},init:function(t){var e=this;return Promise.resolve().then(function(){return window.addEventListener("resize",function(){return e.update()}),t.apply(e),e.update()})},update:function(){var t=this;return this.rbox=this.root.getBoundingClientRect(),Array.from(this.root.querySelectorAll(".chart-layout .cell[name]")).map(function(e,r){var n,i,o,a;return n=e.getAttribute("name"),t.node[n]=e,t.box[n]=o={x:(i=e.getBoundingClientRect()).x,y:i.y,width:i.width,height:i.height},o.x-=t.rbox.x,o.y-=t.rbox.y,t.group[n]=a=t.root.querySelector("g."+n),a.setAttribute("transform","translate("+o.x+","+o.y+")"),a.layout={node:e,box:o}}),this.fire("render")},getBox:function(t){return this.box[t]},getNode:function(t){return this.node[t]},getGroup:function(t){return this.group[t]}}),(ml=new layout({root:".chart"})).on("render",function(){var t,e;return t=this.getBox("view"),((e=this.lc||(this.lc={})).scale||(e.scale={})).y=d3.scaleLinear().range([t.height,0]).domain([0,Math.max.apply(Math,data)]),this.lc.scale.x=d3.scaleBand().range([0,t.width]).domain([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20]),d3.select(this.getGroup("xaxis")).call(d3.axisBottom(this.lc.scale.x)),d3.select(this.getGroup("yaxis")).attr("transform",function(){return"translate("+(this.layout.box.width+this.layout.box.x)+",0)"}).call(d3.axisLeft(this.lc.scale.y)),this.lc.view.render()}),ml.init(function(){var t=this;return(this.lc||(this.lc={})).view=new ldView({root:ld$.find("g.view",0),initRender:!1,handler:{data:{list:function(){return data},handler:function(e){var r,n,i,o,a,u,l,s=[];r=e.node,n=e.data,i=e.idx,t.lc.scale.x.bandwidth(),a={x:(o=t.lc.scale).x(i)+1,y:o.y(n),width:o.x.bandwidth()-2,height:o.y(0)-o.y(n)};for(u in a)l=a[u],s.push(r.setAttribute(u,l));return s}}}})});